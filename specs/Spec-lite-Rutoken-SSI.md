## Аналитическая записка по пилоту Rutoken SSI — упрощённый вариант

- [Проблема](#проблема)
- [Решение](#решение)
- [Зачем пользователю](#зачем-пользователю)
- [Как и где используется](#как-и-где-используется)
- [Пользовательский сценарий](#пользовательский-сценарий)
- [Бизнес выгода для компании Актив](#бизнес-выгода-для-компании-актив)
- [Что конкретно надо делать](#что-конкретно-надо-делать)
  - [Верхнеуровневые компоненты для SSI](#верхнеуровневые-компоненты-для-ssi)
  - [Компоненты для тестирования](#компоненты-для-тестирования)
  - [Резюме](#резюме)
- [Что будет сделано за 2 дня хакатона](#что-будет-сделано-за-2-дня-хакатона)
  - [MVP: Rutoken Local DID Wallet (1) + GUI (2)](#mvp-rutoken-local-did-wallet-1--gui-2)
  - [MVP+: Issuer&Verifier-сервер (3) + Blockchain-инфраструктура (4) для тестирования](#mvp-issuerverifier-сервер-3--blockchain-инфраструктура-4-для-тестирования)
  - [MMP](#mmp)
  - [MLP](#mlp)
- [Полезные материалы](#полезные-материалы)

### Проблема

Данные пользователей (возраст, дата рождения и тд) хранятся у множества сервисов, из-за чего возникают риски кражи данных, мошенничества и неудобства (необходимость постоянно вводить пароли и повторно подтверждать личность).

### Решение

Хранение данных пользователей у самих пользователей.

Self-sovereign identification, SSI — это технология, которая позволяет пользователю самому хранить и управлять своей цифровой идентичностью и документами (например, удостоверением личности, подтверждением возраста) с помощью защищённого устройства (Рутокен). При запросе сервису пользователь раскрывает только нужную информацию и подписывает её через Рутокен, не передавая лишних данных (zero-knowledge).

### Зачем пользователю

- Быстрый и удобный вход в сервисы без множества паролей.
- Контроль над своими личными данными (атрибутами) и безопасность.
- Меньше риска утечки и мошенничества.

### Как и где используется

- Веб-сайты госуслуг, банков, компаний запрашивают подтверждение.
- Пользователь получает запрос, выбирает какие данные раскрыть и подписывает через Рутокен.
- Сервис проверяет эти данные через защищённый цифровой протокол — быстро и безопасно.

### Пользовательский сценарий

1. Пользователь создаёт цифровой профиль и получает подтверждения от уполномоченной организации (УЦ, компания, сервис госуслуг).
2. При входе в сервис запрашиваются атрибуты, например: "старше 18", доступ к сервису, ID учетной записи, пароль.
3. Пользователь подтверждает запрос исходя из информации, хранящейся в его локальном кошельке, и подписывает данные Рутокеном.
4. Сервис получает проверенную информацию (факт проверки, но не само значение запрашиваемого атрибута) и даёт/отклоняет доступ к ресурсу.

Более детальный поток выполнения в [приложении](./SSI-flow.md).

### Бизнес-выгода для компании Актив

- Новый продукт для рынка цифровой идентификации с высоким спросом.
- Расширение клиентской базы (госструктуры, корпорации, сервисы).
- Интеграция с существующими решениями (Рутокен, Guardant).
- Увеличение продаж устройств Рутокен за счёт новых юзкейсов.
- Позиционирование как инновационного лидера, пионера на рынке информационной безопасности и идентификации.

### Что конкретно надо делать

В прикладном решении системы SSI основные компоненты можно представить следующим образом, с особым акцентом на роль Local DID Wallet:

<details>
<summary>Что такое DID и VC?</summary>

**Децентрализованный идентификатор (DID)**
- Это уникальный цифровой идентификатор пользователя или организации.
- DID хранится локально у пользователя и в блокчейне или другом распределённом реестре.
- Подписываются и выпускаются эмитентом (например, УЦ или компанией).

**Verifiable Credentials (VC)**
- Электронные удостоверения и документы, подтверждающие атрибуты субъекта (например, возраст, статус, образование и т.п.).
- Хранятся у самого владельца (в его Local DID Wallet).
- Подписываются и выпускаются эмитентом (например, УЦ или компанией).

</details>

#### Верхнеуровневые компоненты для SSI

1. **Local DID Wallet** (ключевой компонент)
   - **Роль**: программа (например, в памяти Рутокен), которая хранит приватные ключи и обеспечивает криптографические операции (подпись, верификацию).
   - **Функции**:
     - Хранение DID и VC с высокой степенью защиты (в защищённой памяти Рутокен).
     - Подписание данных (на базе API криптокошелька Рутокен) — например, при предъявлении VC.
     - Управление ключами и атрибутами пользователя.
     - Контроль раскрытия данных — пользователь определяет, что и кому раскрывать.
   - **Применение**: обеспечит безопасность и автономность управления идентичностью, исключая риск утечки данных или подмены.

2. **Интерфейс пользователя**
   - Веб или мобильное приложение для взаимодействия.
   - Посредник для обращения к Local DID Wallet, предоставления UI для выбора, подписания и раскрытия данных.

#### Компоненты для тестирования

3. Issuer&Verifier-сервер (сервис уполномоченной организации)
    - Выпускает DID и VC пользователю.
    - Принимает запросы на проверку VC.
    - Взаимодействует с блокчейном.

4. **Blockchain-инфраструктура**
   - Обеспечивает верификацию и проверку подлинности VC, DID, транзакций.
   - Хранит публичные части ключей, идентификаторов и метаданных.

#### Резюме

- **Local DID Wallet — это основа безопасности и автономии цифровой идентичности.**
- **Проще говоря, его главная задача — хранить ключи и подписи, а также управлять атрибутами, обеспечивая их безопасность.**
- **Он сам по себе не имеет графического интерфейса и обычно взаимодействует с веб-приложением, выступая как «технологический ядро».**

### Что будет сделано за 2 дня хакатона

Упрощенная схема компонентов в [приложении](./Components-scheme.md).

#### MVP: Rutoken Local DID Wallet (1) + GUI (2)

- Интеграция с Polygon ID
  - Регистрация DID
- Интеграция с Рутокен ЭЦП 3.0
  - Подписание данных (на базе API криптокошелька Рутокен)

#### MVP+: Issuer&Verifier-сервер (3) + Blockchain-инфраструктура (4) для тестирования

- Интеграция с Polygon ID
  - Проверка DID
  - Проверка VC

#### MMP

- Интеграция с Рутокен ЭЦП 3.0
  - Хранение DID и VC в защищённой памяти Рутокена
- Управление атрибутами пользователя (добавить, удалить VC)

#### MLP

- Управление ключами пользователя (добавить, удалить DID)
- (?) Возможность отправить в ответе дополнительную информацию (значение атрибутов)

### Полезные материалы

1. [Introduction to Microsoft Entra Verified ID](https://learn.microsoft.com/en-us/entra/verified-id/decentralized-identifier-overview). Лайтовая статья от MS с картинками и примерами, на которую я опирался.
2. [waltid-identity](https://github.com/walt-id/waltid-identity). Open-source проект для создания Rutoken SSI.
3. [Polygon. Connect to zkEVM](https://docs.polygon.technology/zkEVM/get-started/quick-start/). Тестнет, с которым будем интегрироваться.
4. [Rutoken Hardware Wallet](https://scm.aktivco.ru/rutoken/res/rutoken-hardware-wallet). Аппаратный кошелек Рутокен.
